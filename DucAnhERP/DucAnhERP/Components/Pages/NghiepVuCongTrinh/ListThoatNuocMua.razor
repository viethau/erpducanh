@page "/NghiepVuCongtrinh/listThoatNuocMua"
@using DucAnhERP.ViewModel
@using DucAnhERP.Models
@using DucAnhERP.Components.Pages.Common
@using System.Linq
@using DucAnhERP.SeedWork
@using Microsoft.AspNetCore.Authorization
@inject NavigationManager navigation
@inject IHopRanhThangRepository HopRanhThangRepository
@inject IDanhMucRepository DanhMucRepository
@attribute [Authorize]

<style>
    table {
        position: relative;
    }

        table thead tr td {
          /*   white-space: nowrap; */
            text-align: center;
            padding: 2px 5px;
        }
</style>
<div class="container-fluid">
    <div>
        <div class="card-header mt-3">
            <h5>BẢNG TỔNG HỢP THÔNG TIN HỆ THỐNG THOÁT NƯỚC MƯA DỌC PHÍA TRÁI TUYẾN</h5>
        </div>
        <div>
            @if (!listHopRanhThang.Any())
            {
                <div class="pt-3 pl-4">
                    <div class="callout callout-warning">
                        <h5>Không có dữ liệu tương ứng!</h5>
                    </div>
                </div>
            }
            <table class="table-bordered " cellpadding="0" cellspacing="0">
                <thead>
                    <tr class="nowrap">
                        <td rowspan="3">STT</td>
                        <td colspan="2" rowspan="2">Thông tin lý trình</td>
                        <td colspan="9" rowspan="2">Thông tin chung hố ga</td>
                        <td colspan="34">Thông tin kích thước hình học hố ga</td>
                        <td colspan="32">Hạng mục chiếm chỗ hố ga</td>
                        <td colspan="8">Thông tin tấm đan hố ga</td>
                        <td colspan="4" rowspan="2">Thông tin vật liệu đào hố ga</td>
                        <td colspan="18" rowspan="2">Thông tin cao độ hố ga</td>
                        <td colspan="10" rowspan="2"> Thông tin chiều cao C.Chỗ đắp trả hố thu</td>
                        <td colspan="4" rowspan="2" >Thông tin mái đào</td>
                        <td colspan="17">Thông tin khối lượng đào</td>
                        <td colspan="2" rowspan="2">Tọa độ</td>
                        <td colspan="4" rowspan="2">Thông tin lý trình truyền dẫn</td>
                        <td colspan="3" rowspan="2">Thông tin đường truyền dẫn</td>
                        <td colspan="11" rowspan="2">Thông tin chiều dài và số lượng cấu kiện đường truyền dẫn</td>
                        <td colspan="3" rowspan="2">Thông tin móng đường truyền dẫn</td>
                        <td colspan="9">Thông tin đế cống</td>
                        <td colspan="10" rowspan="2">Thông tin cấu tạo cống tròn</td>
                        <td colspan="29" >Thông tin kích thước hình học cống hộp, rãnh</td>
                        <td colspan="6" rowspan="2">Thông tin kích thước hình học ống nhựa</td>
                        <td colspan="30" >Thông tin rãnh thang</td>
                        <td colspan="19">Thông tin tấm đan cống hộp, rãnh</td>
                        <td colspan="39">Cao độ thượng lưu</td>
                        <td colspan="39">Cao độ hạ lưu</td>
                        <td colspan="7">Thông tin vật liệu đào cống, rãnh</td>
                        <td colspan="24">Thông tin C.Cao C.Chỗ cống tròn</td>
                        <td colspan="18">Thông tin C.Cao C.Chỗ cống hộp, rãnh</td>
                        <td colspan="18">Thông tin C.Cao C.Chỗ ống nhựa</td>
                        <td colspan="12"> Thông tin chiếm chỗ rãnh thang (m)</td>
                        <td colspan="8">Thông tin mái đào</td>
                        <td colspan="4">D.Tích đào thượng lưu cống, rãnh, ống nhựa, rãnh thang</td>
                        <td colspan="4">D.Tích đào hạ lưu cống, rãnh, ống nhựa, rãnh thang</td>
                        <td colspan="4">D.Tích đào chân khay, giằng đỉnh</td>
                    </tr>
                    <tr>
                        <td colspan="2">Thông tin phủ bì hố ga (m)</td>
                        <td colspan="3">Kích thước hình học bê tông lót móng hố ga (m)</td>
                        <td colspan="3">Kích thước hình học bê tông móng hố ga (m)</td>
                        <td colspan="3">KTHH đế hố ga</td>
                        <td colspan="4">Kích thước hình học tường hố ga (m)</td>
                        <td colspan="5">KTHH dầm giữa hố ga</td>
                        <td colspan="3">Chất hố ga mặt trong</td>
                        <td colspan="3">Chất hố ga mặt ngoài, cạnh 01 +02 (m)</td>
                        <td colspan="4">Kích thước hình học tường mũ mố thép dưới (m)</td>
                        <td colspan="4">Kích thước hình học tường mũ mố thép trên (m)</td>

                        <td colspan="4">Hình thức đấu nối</td>
                        <td colspan="4">Hình thức đấu nối</td>
                        <td colspan="4">Hình thức đấu nối</td>
                        <td colspan="4">Hình thức đấu nối</td>
                        <td colspan="4">Hình thức đấu nối</td>
                        <td colspan="4">Hình thức đấu nối</td>
                        <td colspan="4">Hình thức đấu nối</td>
                        <td colspan="4">Hình thức đấu nối</td>

                        <td rowspan="2">Phân loại đậy hố ga</td>
                        <td rowspan="2">Hình thức đậy hố ga</td>
                        <td colspan="2">Loại tròn</td>
                        <td colspan="4">Loại vuông hoặc chữ nhật</td>

                        <td colspan="5">Diện tích đào hố ga</td>
                        <td colspan="12">Thông tin KL đào hố ga</td>

                        <td rowspan="2">Tên loại đế cống</td>
                        <td rowspan="2">Cấu tạo đế cống</td>
                        <td colspan="3">KTHH đế cống</td>
                        <td colspan="4">Khối lượng đế cống</td>

                        <td colspan="4">Thông tin chung</td>
                        <td colspan="2">Lót móng</td>
                        <td colspan="2">Móng</td>
                        <td colspan="2">Đế</td>
                        <td colspan="6">Thân</td>
                        <td colspan="4">Mũ mố</td>
                        <td colspan="6">Thanh chống</td>
                        <td colspan="2">Chát</td>
                        <td rowspan="2" class="text-danger">Tổng chiều cao (m)</td>

                        <td rowspan="2">Hình thức mái</td>
                        <td rowspan="2">Cấu tạo chân khay</td>
                        <td rowspan="2">Cấu tạo giằng đỉnh</td>
                        <td rowspan="2">Hình thức hành lang bảo vệ</td>

                        <td colspan="11">Thông tin móng</td>
                        <td colspan="4">Thông tin mái</td>
                        <td colspan="7">Thông tin giằng đỉnh </td>
                        <td colspan="4">Thông tin hành lang bảo vệ </td>

                        <td colspan="6">Thông tin tấm đan tiêu chuẩn</td>
                        <td colspan="6">Thông tin tấm đan loại 02</td>
                        <td colspan="7">Thông tin tính tấm đan bổ sung</td>

                        <td rowspan="2">Hiện trạng trước khi đào thượng lưu (m)</td>
                        <td colspan="9">Đáy đào thượng lưu</td>
                        <td colspan="8">Đỉnh lót thượng lưu</td>
                        <td colspan="8">Đỉnh móng thượng lưu</td>
                        <td colspan="4">Mũ tường, tường thượng lưu</td>
                        <td colspan="9">Đỉnh hoàn thiện thượng lưu</td>

                        <td rowspan="2">Hiện trạng trước khi đào thượng lưu (m)</td>
                        <td colspan="9">Đáy đào hạ lưu</td>
                        <td colspan="8">Đỉnh lót hạ lưu</td>
                        <td colspan="8">Đỉnh móng hạ lưu</td>
                        <td colspan="4">Mũ tường, tường hạ lưu</td>
                        <td colspan="9">Đỉnh hoàn thiện hạ lưu</td>

                        <td rowspan="2">Loại vật liệu đào</td>
                        <td colspan="3">Thượng lưu</td>
                        <td colspan="3">Hạ lưu</td>

                        <td colspan="3">Lót C.Chỗ đất</td>
                        <td colspan="3">Lót C.Chỗ đá</td>
                        <td colspan="3">móng C.Chỗ đất</td>
                        <td colspan="3">móng C.Chỗ đá</td>
                        <td colspan="3">Đế C.Chỗ đất</td>
                        <td colspan="3">Đế C.Chỗ đá</td>
                        <td colspan="3">Đỉnh cống C.Chỗ đất</td>
                        <td colspan="3">Đỉnh cống C.Chỗ đá</td>

                        <td colspan="3">C.Cao lót C.Chỗ đất	</td>
                        <td colspan="3">C.Cao lót C.Chỗ đá</td>
                        <td colspan="3">C.Cao móng C.Chỗ đất</td>
                        <td colspan="3">C.Cao móng C.Chỗ đá	</td>
                        <td colspan="3">C.Cao tường C.Chỗ đất</td>
                        <td colspan="3">C.Cao tường C.Chỗ đá</td>

                        <td colspan="3">C.Cao đệm cát C.Chỗ đất	</td>
                        <td colspan="3">C.Cao đệm cát C.Chỗ đá</td>
                        <td colspan="3">C.Cao ống C.Chỗ đất</td>
                        <td colspan="3">C.Cao ống C.Chỗ đá	</td>
                        <td colspan="3">C.Cao đắp cát C.Chỗ đất</td>
                        <td colspan="3">C.Cao đắp cát C.Chỗ đá</td>

                        <td colspan="3">C.Cao C.Chỗ đất đắp trả</td>
                        <td colspan="3">C.Cao C.Chỗ đá đắp trả</td>
                        <td colspan="3">C.Cao C.Chỗ đất đắp trả</td>
                        <td colspan="3">C.Cao C.Chỗ đá đắp trả</td>

                        <td colspan="4"> Thông tin mái đào cống, rãnh, ống nhựa, rãnh thang</td>
                        <td colspan="4">Thông tin mái đào chân khay, giằng đỉnh rãnh thang</td>
                        				

                        <td colspan="2">Đào đất</td>
                        <td colspan="2">Đào đá</td>
                        <td colspan="2">Đào đất</td>
                        <td colspan="2">Đào đá</td>
                        <td colspan="2">Chân khay</td>
                        <td colspan="2">C.Rộng đào đáy lớn (m)</td>

                    </tr>
                    <tr>
                        <td>Tuyến đường</td>
                        <td>Lộ trình tại tim hố ga</td>

                        <td>Tên hố ga sau phân loại</td>
                        <td>Tên hố ga theo bản vẽ</td>
                        <td>Hình thức hố ga</td>
                        <td>Kết cấu mũ mố</td>
                        <td>Kết cấu tường</td>
                        <td>Hình thức móng hố ga</td>
                        <td>Kết cấu móng</td>
                        <td>Chất mặt trong</td>
                        <td>Chất mặt ngoài</td>

                        @* Thông tin kích thước hình học hố ga *@
                        <td>C.D dài (m)</td>
                        <td>C.rộng (m)</td>

                        <td>D (m)</td>
                        <td>R (m)</td>
                        <td>C (m)</td>

                        <td>D (m)</td>
                        <td>R (m)</td>
                        <td>C (m)</td>

                        <td>D (m)</td>
                        <td>R (m)</td>
                        <td>C (m)</td>

                        <td>D (m)</td>
                        <td>R (m)</td>
                        <td class="text-danger">C (m)</td>
                        <td>CD tường (m)</td>

                        <td>D (m)</td>
                        <td>R (m)</td>
                        <td>C (m)</td>
                        <td>CD dầm (m)</td>
                        <td>C.Cao dầm giữa tường so với đáy hố ga (m)</td>

                        <td>D (m)</td>
                        <td>R (m)</td>
                        <td class="text-danger">C (m)</td>

                        <td>D (m)</td>
                        <td>R (m)</td>
                        <td class="text-danger">C (m)</td>

                        <td>D (m)</td>
                        <td>R (m)</td>
                        <td>C (m)</td>
                        <td>CD tường (m)</td>

                        <td>D (m)</td>
                        <td>R (m)</td>
                        <td>C (m)</td>
                        <td>CD tường (m)</td>

                        @* Hạng mục chiếm chỗ hố ga *@
                        <td>Loại</td>
                        <td>Cạnh dài</td>
                        <td>Cạnh rộng</td>
                        <td>Cạnh chéo</td>

                        <td>Loại</td>
                        <td>Cạnh dài</td>
                        <td>Cạnh rộng</td>
                        <td>Cạnh chéo</td>

                        <td>Loại</td>
                        <td>Cạnh dài</td>
                        <td>Cạnh rộng</td>
                        <td>Cạnh chéo</td>

                        <td>Loại</td>
                        <td>Cạnh dài</td>
                        <td>Cạnh rộng</td>
                        <td>Cạnh chéo</td>

                        <td>Loại</td>
                        <td>Cạnh dài</td>
                        <td>Cạnh rộng</td>
                        <td>Cạnh chéo</td>

                        <td>Loại</td>
                        <td>Cạnh dài</td>
                        <td>Cạnh rộng</td>
                        <td>Cạnh chéo</td>

                        <td>Loại</td>
                        <td>Cạnh dài</td>
                        <td>Cạnh rộng</td>
                        <td>Cạnh chéo</td>

                        <td>Loại</td>
                        <td>Cạnh dài</td>
                        <td>Cạnh rộng</td>
                        <td>Cạnh chéo</td>

                        @* Thông tin tấm đan hố ga *@
                        <td>Đường kính (m) </td>
                        <td>Chiều dầy (m)</td>

                        <td>D (m) </td>
                        <td>R (m) </td>
                        <td>C (m)</td>
                        <td>Số lượng nắp đậy (C.Kiện)</td>

                        @* Thông tin vật liệu đào hố ga *@

                        <td> Loại vật liệu đào</td>
                        <td>Chiều cao đào đá (m) </td>
                        <td class="text-danger">Chiều cao đào đất (m)</td>
                        <td class="text-danger">Tổng chiều cao đào</td>

                       @*Thông tin cao độ hố ga *@
                        <td>Cao độ tự nhiên (m)</td>
                        <td>CĐ đỉnh vỉa hè hoàn thiện (m)</td>
                        <td>Cao độ đỉnh K98 (m)</td>
                        <td class="text-danger">Cao độ hiện trạng trước khi đào (m)</td>
                        <td class="text-danger">Đáy đào (m)</td>
                        <td class="text-danger">C.Sâu đào (m)</td>
                        <td class="text-danger">Đỉnh lót móng (m)</td>
                        <td class="text-danger">CĐ đỉnh móng</td>
                        <td>CĐ đáy hố ga (m)</td>
                        <td class="text-danger">C.Cao tường (m)</td>
                        <td class="text-danger">Đỉnh tường dưới dầm giữa tường (m)</td>
                        <td class="text-danger">Đỉnh dầm giữa tường (m)</td>
                        <td class="text-danger">Đỉnh tường (m)</td>
                        <td class="text-danger">Đỉnh mũ mố thớt dưới (m)</td>
                        <td>CĐ đỉnh hố ga (m)</td>
                        <td class="text-danger">Tổng chiều cao hố ga</td>
                        <td class="text-danger">Chênh cao đỉnh hố ga và hiện trạng đào (m)</td>
                        <td class="text-danger">Tổng chiều cao chiếm chỗ đắp trả</td>

                        @* Thông tin chiều cao C.Chỗ đắp trả hố thu *@
                        <td class="text-danger">Chiều cao lót C.Chỗ đất (m)</td>
                        <td class="text-danger">Chiều cao móng C.Chỗ đất (m)</td>
                        <td class="text-danger">Chiều cao tường C.Chỗ đất (m)</td>
                        <td class="text-danger">Chiều cao lót C.Chỗ đá (m)</td>
                        <td class="text-danger">Chiều cao móng C.Chỗ đá (m)</td>
                        <td class="text-danger">Chiều cao tường C.Chỗ đá (m)</td>
                        <td class="text-danger">Tổng C.Cao C.Chỗ đất</td>
                        <td class="text-danger">Tổng C.Cao C.Chỗ đá</td>
                        <td class="text-danger">Chênh đất so với thiết kế</td>
                        <td class="text-danger">Chênh đá so với thiết kế</td>

                        @* Thông tin mái đào *@
                        <td>Chiều rộng đáy đào nhỏ (m)</td>
                        <td>Tỷ lệ mở mái (m)</td>
                        <td>Số cạnh mái trái</td>
                        <td>Số cạnh mái phải</td>

                        @* Thông tin khối lượng đào *@
                        <td class="text-danger">C.Rộng đào đáy lớn đất (m)</td>
                        <td class="text-danger">C.Rộng đào đáy lớn đá (m)</td>
                        <td class="text-danger">Diện tích đào đất (m2)</td>
                        <td class="text-danger">Diện tích đào đá (m2)</td>
                        <td class="text-danger">Tổng DT đào (m2)</td>
                        <td class="text-danger">KL đào đất (m3)</td>
                        <td class="text-danger">KL đào đá (m3)</td>
                        <td class="text-danger">Tổng KL đào (m3)</td>
                        <td class="text-danger">KL chiếm chỗ đất (m3)</td>
                        <td class="text-danger">KL chiếm chỗ đá (m3)</td>
                        <td class="text-danger">Tổng chiếm chỗ (m3)</td>
                        <td class="text-danger">KL đắp trả đất (m3)</td>
                        <td class="text-danger">KL đắp trả đá (m3)</td>
                        <td class ="text-danger">Tổng đắp trả (m3)</td>
                        <td class="text-danger">KL thừa đất (m3)</td>
                        <td class="text-danger">KL thừa đá (m3)</td>
                        <td class="text-danger">Tổng thừa (m3)</td>

                        @* Tọa độ *@
                        <td>X</td>
                        <td>Y</td>

                        @* Thông tin lý trình truyền dẫn *@
                        <td>Từ lý trình</td>
                        <td>Đến lý trình</td>
                        <td>Từ hố ga</td>
                        <td>Đến hố ga</td>
                        @* Thông tin đường truyền dẫn *@
                        <td>Hình thức truyền dẫn</td>
                        <td>Loại truyền dẫn</td>
                        <td>Tên loại truyền dẫn sau phân loại</td>
                        @* Thông tin chiều dài và số lượng cấu kiện đường truyền dẫn *@
                        <td>Chiều dài 01 cấu kiện (m)</td>
                        <td>Chiều dài mối nối C.Kiện (m)</td>
                        <td>Số lượng C.Kiện dùng để tính chiều dài bổ sung (C.Kiện)</td>
                        <td>Tổng chiều dài (m)</td>
                        <td class="text-danger">SL cấu kiện tính KL</td>
                        <td class="text-danger">SL cấu kiện nguyên</td>
                        <td class="text-danger">Chiều dài cần để lắp đặt được theo số cấu kiện nguyên (m)</td>
                        <td class="text-danger">Tổng chiều dài lắp đặt theo số cấu kiện nguyên (m)</td>
                        <td class="text-danger">Chiều dài thực tế còn thừa (+)/thiếu (-) so với C.Rộng lòng mũ mố hố ga (m)</td>
                        <td class="text-danger">Xác định ống cống cần thêm</td>
                        <td class="text-danger">Chiều dài còn thừa (+)/thiếu (-) sau tính theo cấu kiện tính KL (m)</td>
                        @* Thông tin móng đường truyền dẫn *@
                        <td>Phân loại móng cống tròn, cống hộp</td>
                        <td>Loại móng</td>
                        <td>Hình thức móng</td>

                        @* Thông tin đế cống *@
                        <td>D</td>
                        <td>R</td>
                        <td>C</td>
                        <td>SL đế cống/01 cấu kiện truyền dẫn (C.Kiện)</td>
                        <td>KL 01 đế cống</td>
                        <td class="text-danger">Tổng số lượng đế cống</td>
                        <td class="text-danger">Tổng KL đế cống</td>

                        @* Thông tin cấu tạo cống tròn *@
                        <td>C.Dầy phủ bì (m)</td>
                        <td>Số cạnh</td>
                        <td>Lòng sử dụng (m)</td>
                        <td class="text-danger">C.Cao cấu kiện</td>
                        <td>C.Cao lót móng (m)</td>
                        <td>C.Rộng lót móng</td>
                        <td>C.Cao móng (m)</td>
                        <td>C.Rộng móng (m)</td>
                        <td>C.Cao đế (tại vị trí đặt C.Kiện) (m)</td>
                        <td class="text-danger">Tổng C.Cao cống (m)</td>

                        @* Thông tin kích thước hình học cống hộp, rãnh *@
                        <td>Cấu tạo tường</td>
                        <td>Cấu tạo mũ mố</td>
                        <td>Chát mặt trong</td>
                        <td>Chát mặt ngoài</td>
                        <td>C.Cao lót móng (m)</td>
                        <td>C.Rộng lót móng (m)</td>
                        <td>C.Cao móng (m)</td>
                        <td>C.Rộng móng (m)</td>
                        <td>C.Cao đế (m)</td>
                        <td>C.Rộng đế (m)</td>
                        <td>C.Dầy tường 01 bên (m)</td>
                        <td>Số lượng tường (m)</td>
                        <td>C.Rộng lòng sử dụng (m)</td>
                        <td>C.Cao tường cống hộp (m)</td>
                        <td class="text-danger">C.Cao tường rãnh</td>
                        <td class="text-danger">C.Cao tường gộp</td>
                        <td>C.Cao mũ mố thớt dưới (m)</td>
                        <td>C.Rộng mũ mố dưới</td>
                        <td>C.Cao mũ mố thớt trên (m)</td>
                        <td>C.Rộng mũ mố trên</td>
                        <td>Loại thanh chống</td>
                        <td>Cấu tạo thanh chống</td>
                        <td>C.Cao thanh chống (m)</td>
                        <td>C.Rộng thanh chống (m)</td>
                        <td>C.Dài (m)</td>
                        <td>Số lượng thanh chống (cái)</td>
                        <td class="text-danger">C.Cao chát mặt trong (m)</td>
                        <td class="text-danger">C.Cao chát mặt ngoài (m)</td>

                        @* Thông tin kích thước hình học ống nhựa *@
                        <td>C.Dầy phủ bì (m)</td>
                        <td>Số cạnh</td>
                        <td>Lòng sử dụng (m)</td>
                        <td class="text-danger">Tổng C.Cao ống (m)</td>
                        <td>C.Cao đệm cát (m)</td>
                        <td>C.Cao đắp cát (m)</td>

                        @* Thông tin rãnh thang *@
                        <td>Phân loại chân khay</td>
                        <td>C.Cao lót chân khay (m)</td>
                        <td>C.Rộng lót chân khay (m)</td>
                        <td>Số lượng lót chân khay</td>
                        <td>C.Cao móng chân khay (m)</td>
                        <td>C.Rộng móng chân khay (m)</td>
                        <td>Số lượng móng chân khay</td>
                        <td>C.Cao lót (m)</td>
                        <td>C.Rộng lót (m)</td>
                        <td>C.Cao móng (m)</td>
                        <td>C.Rộng móng (m)</td>
                        <td>Phân loại mái</td>
                        <td>C.Rộng mái (m)</td>
                        <td>C.Dầy mái (m)</td>
                        <td>Số lượng mái (m)</td>
                        <td>Phân loại giằng đỉnh</td>
                        <td>C.Cao lót giằng đỉnh (m)</td>
                        <td>C.Rộng lót giằng đỉnh (m)</td>
                        <td>Số lượng lót giằng đỉnh</td>
                        <td>C.Cao móng giằng đỉnh (m)</td>
                        <td>C.Rộng móng giằng đỉnh (m)</td>
                        <td>Số lượng móng giằng đỉnh</td>
                        <td>Phân loại hành lang bảo vệ</td>
                        <td>C.Cao hàng lang bảo vệ</td>
                        <td>C.Rộng hành lang bảo vệ</td>
                        <td>Số lượng hàng lang bảo vệ</td>

                        @* Thông tin tấm đan cống hộp, rãnh *@
                        <td>Tên loại tấm đan tiêu chuẩn</td>
                        <td>Cấu tạo tấm đan truyền dẫn tấm đan tiêu chuẩn</td>
                        <td class="text-danger">Số lượng</td>
                        <td>C.Dài</td>
                        <td>C.Rộng</td>
                        <td>C.Cao</td>
                        <td>Tên loại tấm đan loại 02</td>
                        <td>Cấu tạo tấm đan truyền dẫn</td>
                        <td class="text-danger">Số lượng</td>
                        <td class="text-danger">C.Dài</td>
                        <td>C.Rộng</td>
                        <td>C.Cao</td>
                        <td>Chiều dài mối nối (m)</td>
                        <td>Số lượng T.Đan dùng để tính chiều dài bổ sung (C.Kiện)</td>
                        <td class="text-danger">SL cấu kiện nguyên</td>
                        <td class="text-danger">Chiều dài cần để lắp đặt được theo số CK nguyên (m)</td>
                        <td class="text-danger">Tổng chiều dài lắp đặt theo số CK nguyên (m)</td>
                        <td class="text-danger">Chiều dài thực tế còn thừa (+)/thiếu (-) so với C.Rộng lòng mũ mố hố ga (m)</td>
                        <td class="text-danger">Xác định ống cống cần thêm</td>

                        @* Cao độ thượng lưu *@
                        <td class="text-danger">Đáy đào gộp (C.Tròn, C.Hộp, Rãnh, Ô.Nhựa, rãnh thang)</td>
                        <td class="text-danger">Chiều sâu đào</td>
                        <td class="text-danger">Đáy đào cống tròn (m)</td>
                        <td class="text-danger">Đáy đào cống hộp (m)</td>
                        <td class="text-danger">Đáy đào rãnh (m)</td>
                        <td class="text-danger">Đáy đào ống nhựa (m)</td>
                        <td class="text-danger">Đáy đào giằng đỉnh rãnh thang (m)</td>
                        <td class="text-danger">Đáy đào chân khay rãnh thang (m)</td>
                        <td class="text-danger">Đáy đào rãnh thang (m)</td>
                        <td class="text-danger">Đỉnh lót gộp (C.Tròn, C.Hộp, Rãnh, ống nhựa, rãnh thang)</td>
                        <td class="text-danger">Đỉnh lót rãnh thang</td>
                        <td class="text-danger">Đỉnh lót chân khay rãnh thang</td>
                        <td class="text-danger">Đỉnh lót giằng đỉnh rãnh thang</td>
                        <td class="text-danger">Đỉnh lót ống nhựa</td>
                        <td class="text-danger">Đỉnh lót cống tròn (m)</td>
                        <td class="text-danger">Đỉnh lót cống hộp (m)</td>
                        <td class="text-danger">Đỉnh lót rãnh (m)</td>
                        <td class="text-danger">Đỉnh móng gộp (C.Tròn, C.Hộp, Rãnh, rãnh thang)</td>
                        <td class="text-danger">Đỉnh móng rãnh thang (m)</td>
                        <td class="text-danger">Đỉnh móng chân khay (m)</td>
                        <td class="text-danger">Đỉnh móng cống tròn (m)</td>
                        <td class="text-danger">Đỉnh móng cống hộp (m)</td>
                        <td class="text-danger">Đỉnh móng rãnh (m)</td>
                        <td class="text-danger">Đỉnh đế cống (m)</td>
                        <td>Đáy dòng chảy (m)</td>
                        <td class="text-danger">C.Cao tường cống, rãnh (m)</td>
                        <td class="text-danger">Đỉnh tường C.Hộp, rãnh (m)</td>
                        <td class="text-danger">Đỉnh mũ mố thớt dưới cống hộp rãnh (m)</td>
                        <td class="text-danger">Đỉnh giằng đỉnh rãnh thang (m)</td>
                        <td class="text-danger">Đỉnh gộp (C.Tròn, C.Hộp, rãnh, Ô.Nhựa, Rãnh thang (m)</td>
                        <td>Đỉnh trong lòng sử dụng (m)</td>
                        <td class="text-danger">Đỉnh cống tròn (m)</td>
                        <td class="text-danger">Đỉnh cống hộp (m)</td>
                        <td class="text-danger">Đỉnh rãnh (m)</td>
                        <td class="text-danger">Đỉnh ống nhựa (m)</td>
                        <td class="text-danger">Đỉnh đắp cát (m)</td>
                        <td>Chiều cao rãnh thang từ đáy dòng chảy đến đỉnh (m)</td>
                        <td class="text-danger">Đỉnh rãnh thang (m)</td>

                        @* Cao độ hạ lưu *@
                        <td class="text-danger">Đáy đào gộp (C.Tròn, C.Hộp, Rãnh, Ô.Nhựa, rãnh thang)</td>
                        <td class="text-danger">Chiều sâu đào</td>
                        <td class="text-danger">Đáy đào cống tròn (m)</td>
                        <td class="text-danger"> Đáy đào cống hộp (m)</td>
                        <td class="text-danger">Đáy đào rãnh (m)</td>
                        <td class="text-danger">Đáy đào ống nhựa (m)</td>
                        <td class="text-danger">Đáy đào giằng đỉnh rãnh thang (m)</td>
                        <td class="text-danger">Đáy đào chân khay rãnh thang (m)</td>
                        <td class="text-danger">Đáy đào rãnh thang (m)</td>
                        <td class="text-danger">Đỉnh lót gộp (C.Tròn, C.Hộp, Rãnh, ống nhựa, rãnh thang)</td>
                        <td class="text-danger">Đỉnh lót rãnh thang</td>
                        <td class="text-danger">Đỉnh lót chân khay rãnh thang</td>
                        <td class="text-danger">Đỉnh lót giằng đỉnh rãnh thang</td>
                        <td class="text-danger">Đỉnh lót ống nhựa</td>
                        <td class="text-danger">Đỉnh lót cống tròn (m)</td>
                        <td class="text-danger">Đỉnh lót cống hộp (m)</td>
                        <td class="text-danger">Đỉnh lót rãnh (m)</td>
                        <td class="text-danger">Đỉnh móng gộp (C.Tròn, C.Hộp, Rãnh, rãnh thang)</td>
                        <td class="text-danger">Đỉnh móng rãnh thang (m)</td>
                        <td class="text-danger">Đỉnh móng chân khay (m)</td>
                        <td class="text-danger">Đỉnh móng cống tròn (m)</td>
                        <td class="text-danger">Đỉnh móng cống hộp (m)</td>
                        <td class="text-danger">Đỉnh móng rãnh (m)</td>
                        <td class="text-danger">Đỉnh đế cống (m)</td>
                        <td>Đáy dòng chảy (m)</td>
                        <td class="text-danger">C.Cao tường cống, rãnh (m)</td>
                        <td class="text-danger">Đỉnh tường C.Hộp, rãnh (m)</td>
                        <td class ="text-danger">Đỉnh mũ mố thớt dưới cống hộp rãnh (m)</td>
                        <td class="text-danger">Đỉnh giằng đỉnh rãnh thang (m)</td>
                        <td class="text-danger">Đỉnh gộp (C.Tròn, C.Hộp, rãnh, Ô.Nhựa, Rãnh thang (m)</td>
                        <td>Đỉnh trong lòng sử dụng (m)</td>
                        <td class="text-danger">Đỉnh cống tròn (m)</td>
                        <td class="text-danger">Đỉnh cống hộp (m)</td>
                        <td class="text-danger">Đỉnh rãnh (m)</td>
                        <td class="text-danger">Đỉnh ống nhựa (m)</td>
                        <td class="text-danger">Đỉnh đắp cát (m)</td>
                        <td>Chiều cao rãnh thang từ đáy dòng chảy đến đỉnh (m)</td>
                        <td class="text-danger">Đỉnh rãnh thang (m)</td>
                        
                        @* Thông tin vật liệu đào cống, rãnh *@
                        <td>Chiều cao đào đá (m)</td>
                        <td class="text-danger">Chiều cao đào đất (m)</td>
                        <td class="text-danger">Tổng chiều sâu đào</td>
                        <td>Chiều cao đào đá (m)</td>
                        <td class="text-danger">Chiều cao đào đất (m)</td>
                        <td class="text-danger">Tổng chiều sâu đào</td>
                        
                        @* Thông tin C.Cao C.Chỗ cống tròn *@
                        <td class="text-danger">C.Cao lót T.Lưu</td>
                        <td class="text-danger">C.Cao lót H.lưu</td>
                        <td class="text-danger">C.Cao lót móng T.Bình</td>
                        <td class="text-danger">C.Cao lót T.Lưu</td>
                        <td class="text-danger">C.Cao lót H.lưu</td>
                        <td class="text-danger">C.Cao lót móng T.Bình</td>
                        <td class="text-danger">C.Cao móng T.Lưu</td>
                        <td class="text-danger">C.Cao móng H.Lưu</td>
                        <td class="text-danger">C.Cao móng T.Bình</td>
                        <td class="text-danger">C.Cao móng T.Lưu</td>
                        <td class="text-danger">C.Cao móng H.Lưu</td>
                        <td class="text-danger">C.Cao móng T.Bình</td>
                        <td class="text-danger">C.Cao đế T.Lưu</td>
                        <td class="text-danger">C.Cao đế H.Lưu</td>
                        <td class="text-danger">C.Cao đế T.Bình</td>
                        <td class="text-danger">C.Cao đế T.Lưu</td>
                        <td class="text-danger">C.Cao đế H.Lưu</td>
                        <td class="text-danger">C.Cao đế T.Bình</td>
                        <td class="text-danger">C.Cao cống T.Lưu</td>
                        <td class="text-danger">C.Cao cống H.Lưu</td>
                        <td class="text-danger">C.Cao cống T.Bình</td>
                        <td class="text-danger">C.Cao cống T.Lưu</td>
                        <td class="text-danger">C.Cao cống H.Lưu</td>
                        <td class="text-danger">C.Cao cống T.Bình</td>

                        @* Thông tin C.Cao C.Chỗ cống hộp, rãnh *@

                        <td class="text-danger">C.Cao lót T.Lưu</td>
                        <td class="text-danger">C.Cao lót H.Lưu</td>
                        <td class="text-danger">C.Cao lót T.Bình</td>
                        <td class="text-danger">C.Cao lót T.Lưu</td>
                        <td class="text-danger">C.Cao lót H.Lưu</td>
                        <td class="text-danger">C.Cao lót T.Bình</td>
                        <td class="text-danger">C.Cao móng T.Lưu</td>
                        <td class="text-danger">C.Cao móng H.Lưu</td>
                        <td class="text-danger">C.Cao móng T.Bình</td>
                        <td class="text-danger">C.Cao móng T.Lưu</td>
                        <td class="text-danger">C.Cao móng H.Lưu</td>
                        <td class="text-danger">C.Cao móng T.Bình</td>
                        <td class="text-danger">C.Cao tường T.Lưu</td>
                        <td class="text-danger">C.Cao tường H.Lưu</td>
                        <td class="text-danger">C.Cao tường T.Bình</td>
                        <td class="text-danger">C.Cao tường T.Lưu</td>
                        <td class="text-danger">C.Cao tường H.Lưu</td>
                        <td class="text-danger">C.Cao tường T.Bình</td>

                        @* Thông tin C.Cao C.Chỗ ống nhựa *@
                        <td class="text-danger">C.Cao đệm cát T.Lưu</td>
                        <td class="text-danger">C.Cao đệm cát H.Lưu</td>
                        <td class="text-danger">C.Cao đệm cát T.Bình</td>
                        <td class="text-danger">C.Cao đệm cát T.Lưu</td>
                        <td class="text-danger">C.Cao đệm cát H.Lưu</td>
                        <td class="text-danger">C.Cao đệm cát T.Bình</td>
                        <td class="text-danger">C.Cao ống T.Lưu</td>
                        <td class="text-danger">C.Cao ống H.Lưu</td>
                        <td class="text-danger">C.Cao T.Bình</td>
                        <td class="text-danger">C.Cao ống T.Lưu</td>
                        <td class="text-danger">C.Cao ống H.Lưu</td>
                        <td class="text-danger">C.Cao T.Bình</td>
                        <td class="text-danger">C.Cao đắp cát T.Lưu</td>
                        <td class="text-danger">C.Cao Đắp cát H.Lưu</td>
                        <td class="text-danger">C.Cao đắp cát T.Bình</td>
                        <td class="text-danger">C.Cao đắp cát T.Lưu</td>
                        <td class="text-danger">C.Cao Đắp cát H.Lưu</td>
                        <td class="text-danger">C.Cao đắp cát T.Bình</td>

                        @* Thông tin chiếm chỗ rãnh thang (m) *@
                        <td class="text-danger">Lót thượng lưu</td>
                        <td class="text-danger">Lót hạ lưu</td>
                        <td class="text-danger">Lót trung bình</td>
                        <td class="text-danger">Lót thượng lưu</td>
                        <td class="text-danger">Lót hạ lưu</td>
                        <td class="text-danger">Lót trung bình</td>
                        <td class="text-danger">Móng thượng lưu</td>
                        <td class="text-danger">Móng hạ lưu</td>
                        <td class="text-danger">Móng trung bình</td>
                        <td class="text-danger">Móng thượng lưu</td>
                        <td class="text-danger">Móng hạ lưu</td>
                        <td class="text-danger">Móng trung bình</td>

                        @* Thông tin mái đào *@
                        <td>Chiều rộng đáy đào nhỏ (m)</td>
                        <td>Tỷ lệ mở mái</td>
                        <td>Số cạnh mái trái</td>
                        <td>Số cạnh mái phải</td>
                        <td>Chiều rộng đáy đào nhỏ (m)</td>
                        <td>Tỷ lệ mở mái</td>
                        <td>Số cạnh mái trái</td>
                        <td>Số cạnh mái phải</td>

                        @* D.Tích đào thượng lưu cống, rãnh, ống nhựa, rãnh thang *@				
                        <td class="text-danger">C.Rộng đào đáy lớn (m)</td>
                        <td class="text-danger">D.Tích đào (m2)</td>
                        <td class="text-danger">C.Rộng đào đáy lớn (m)</td>
                        <td class="text-danger" >D.Tích đào (m2)</td>
                        @* D.Tích đào hạ lưu cống, rãnh, ống nhựa, rãnh thang *@
                        <td class="text-danger">C.Rộng đào đáy lớn (m)</td>
                        <td class="text-danger">D.Tích đào (m2)</td>
                        <td class="text-danger">C.Rộng đào đáy lớn (m)</td>
                        <td class="text-danger">D.Tích đào (m2)</td>
                        @* D.Tích đào chân khay, giằng đỉnh  *@
                        <td class="text-danger">C.Rộng đào đáy lớn (m)</td>
                        <td class="text-danger">D.Tích đào (m2)</td>
                        <td class="text-danger">C.Rộng đào đáy lớn (m)</td>
                        <td class="text-danger">D.Tích đào (m2)</td>

                    </tr>
                </thead>
                @if (listHopRanhThang.Any())
                {

                    <tbody>
                        @{
                            int stt = 1;
                        }
                        @foreach (var item in listHopRanhThang)
                        {
                            
                            <tr onclick="alert(@item.Id)">
                                <td class="text-center">@stt</td>
                                <td class="text-center">@item.ThongTinLyTrinh_TuyenDuong </td>
                                <td class="text-center">@item.ThongTinLyTrinh_LyTrinhTaiTimHoGa </td>
                                <td class="text-center">@item.ThongTinChungHoGa_TenHoGaSauPhanLoai </td>
                                <td class="text-center">@item.ThongTinChungHoGa_TenHoGaTheoBanVe </td>
                                <td class="text-center">@GetTenDanhMucById(item.ThongTinChungHoGa_HinhThucHoGa) </td>
                                <td class="text-center">@GetTenDanhMucById(item.ThongTinChungHoGa_KetCauMuMo)  </td>
                                <td class="text-center">@GetTenDanhMucById(item.ThongTinChungHoGa_KetCauTuong) </td>
                                <td class="text-center">@GetTenDanhMucById(item.ThongTinChungHoGa_HinhThucMongHoGa) </td>
                                <td class="text-center">@GetTenDanhMucById(item.ThongTinChungHoGa_KetCauMong) </td>
                                <td class="text-center">@GetTenDanhMucById(item.ThongTinChungHoGa_ChatMatTrong) </td>
                                <td class="text-center">@GetTenDanhMucById(item.ThongTinChungHoGa_ChatMatNgoai)  </td>
                                <td class="text-center">@item.PhuBiHoGa_CDai  </td>
                                <td class="text-center">@item.PhuBiHoGa_CRong   </td>
                                <td class="text-center">@item.BeTongLotMong_D   </td>
                                <td class="text-center">@item.BeTongLotMong_R   </td>
                                <td class="text-center">@item.BeTongLotMong_C   </td>
                                <td class="text-center">@item.BeTongMongHoGa_D  </td>
                                <td class="text-center">@item.BeTongMongHoGa_R  </td>
                                <td class="text-center">@item.TBeTongMongHoGa_C   </td>
                                <td class="text-center">@item.DeHoGa_D   </td>
                                <td class="text-center">@item.DeHoGa_R   </td>
                                <td class="text-center">@item.DeHoGa_C   </td>
                                <td class="text-center">@item.TuongHoGa_D   </td>
                                <td class="text-center">@item.TuongHoGa_R  </td>

                                <td class="text-center text-danger">TuongHoGa_C</td>

                                <td class="text-center">@item.TuongHoGa_CdTuong   </td>
                                <td class="text-center">@item.DamGiuaHoGa_D  </td>
                                <td class="text-center">@item.DamGiuaHoGa_R   </td>
                                <td class="text-center">@item.DamGiuaHoGa_C   </td>
                                <td class="text-center">@item.DamGiuaHoGa_CdDam   </td>
                                <td class="text-center">@item.DamGiuaHoGa_CCaoDamGiuaTuongSoVoiDayHoGa   </td>
                                <td class="text-center">@item.ChatMatTrong_D  </td>
                                <td class="text-center">@item.ChatMatTrong_R  </td>

                                <td class="text-center text-danger">ChatMatTrong_C</td>

                                <td class="text-center">@item.ChatMatNgoaiCanh_D   </td>
                                <td class="text-center">@item.ChatMatNgoaiCanh_R  </td>

                                <td class="text-center text-danger">ChatMatNgoaiCanh_C</td>
                                
                                <td class="text-center">@item.MuMoThotDuoi_D   </td>
                                <td class="text-center">@item.MuMoThotDuoi_R   </td>
                                <td class="text-center">@item.MuMoThotDuoi_C   </td>
                                <td class="text-center">@item.MuMoThotDuoi_CdTuong   </td>
                                <td class="text-center">@item.MuMoThotTren_D  </td>
                                <td class="text-center">@item.MuMoThotTren_R   </td>
                                <td class="text-center">@item.MuMoThotTren_C   </td>
                                <td class="text-center">@item.MuMoThotTren_CdTuong   </td>
                                <td class="text-center">@item.HinhThucDauNoi1_Loai   </td>
                                <td class="text-center">@item.HinhThucDauNoi1_CanhDai   </td>
                                <td class="text-center">@item.HinhThucDauNoi1_CanhRong   </td>
                                <td class="text-center">@item.HinhThucDauNoi1_CanhCheo   </td>
                                <td class="text-center">@item.HinhThucDauNoi2_Loai   </td>
                                <td class="text-center">@item.HinhThucDauNoi2_CanhDai   </td>
                                <td class="text-center">@item.HinhThucDauNoi2_CanhRong   </td>
                                <td class="text-center">@item.HinhThucDauNoi2_CanhCheo  </td>
                                <td class="text-center">@item.HinhThucDauNoi3_Loai   </td>
                                <td class="text-center">@item.HinhThucDauNoi3_CanhDai   </td>
                                <td class="text-center">@item.HinhThucDauNoi3_CanhRong  </td>
                                <td class="text-center">@item.HinhThucDauNoi3_CanhCheo   </td>
                                <td class="text-center">@item.HinhThucDauNoi4_Loai   </td>
                                <td class="text-center">@item.HinhThucDauNoi4_CanhDai   </td>
                                <td class="text-center">@item.HinhThucDauNoi4_CanhRong  </td>
                                <td class="text-center">@item.HinhThucDauNoi4_CanhCheo   </td>
                                <td class="text-center">@item.HinhThucDauNoi5_Loai   </td>
                                <td class="text-center">@item.HinhThucDauNoi5_CanhDai   </td>
                                <td class="text-center">@item.HinhThucDauNoi5_CanhRong   </td>
                                <td class="text-center">@item.HinhThucDauNoi5_CanhCheo   </td>
                                <td class="text-center">@item.HinhThucDauNoi6_Loai   </td>
                                <td class="text-center">@item.HinhThucDauNoi6_CanhDai   </td>
                                <td class="text-center">@item.HinhThucDauNoi6_CanhRong   </td>
                                <td class="text-center">@item.HinhThucDauNoi6_CanhCheo  </td>
                                <td class="text-center">@item.HinhThucDauNoi7_Loai  </td>
                                <td class="text-center">@item.HinhThucDauNoi7_CanhDai   </td>
                                <td class="text-center">@item.HinhThucDauNoi7_CanhRong </td>
                                <td class="text-center">@item.HinhThucDauNoi7_CanhCheo   </td>
                                <td class="text-center">@item.HinhThucDauNoi8_Loai   </td>
                                <td class="text-center">@item.HinhThucDauNoi8_CanhDai   </td>
                                <td class="text-center">@item.HinhThucDauNoi8_CanhRong   </td>
                                <td class="text-center">@item.HinhThucDauNoi8_CanhCheo </td>

                                <td class="text-center">@item.ThongTinTamDanHoGa2_PhanLoaiDayHoGa </td>
                                <td class="text-center">@GetTenDanhMucById(item.ThongTinTamDanHoGa2_HinhThucDayHoGa)  </td>

                                <td class="text-center">@item.ThongTinTamDanHoGa2_DuongKinh  </td>
                                <td class="text-center">@item.ThongTinTamDanHoGa2_ChieuDay   </td>
                                <td class="text-center">@item.ThongTinTamDanHoGa2_D   </td>
                                <td class="text-center">@item.ThongTinTamDanHoGa2_R   </td>
                                <td class="text-center">@item.ThongTinTamDanHoGa2_C </td>
                                <td class="text-center">@item.ThongTinTamDanHoGa2_SoLuongNapDay </td>
                                <td class="text-center">@GetTenDanhMucById(item.ThongTinVatLieuDaoHoGa_LoaiVatLieuDao)   </td>
                                <td class="text-center">@item.ThongTinVatLieuDaoHoGa_ChieuCaoDaoDa  </td>

                                <td class="text-center text-danger">ThongTinVatLieuDaoHoGa_ChieuCaoDaoDat</td>
                                <td class="text-center text-danger">ThongTinVatLieuDaoHoGa_TongChieuCaoDao</td>

                                <td class="text-center">@item.ThongTinCaoDoHoGa_CaoDoTuNhien   </td>
                                <td class="text-center">@item.ThongTinCaoDoHoGa_CdDinhViaHeHoanThien  </td>
                                <td class="text-center">@item.ThongTinCaoDoHoGa_CaoDoDinhK98  </td>

                                <td class="text-center text-danger">@ThongTinCaoDoHoGa_CaoDoHienTrangTruocKhiDao(item.ThongTinCaoDoHoGa_CaoDoTuNhien, item.ThongTinCaoDoHoGa_CaoDoDinhK98, item.ThongTinCaoDoHoGa_CdDinhViaHeHoanThien)</td>
                                <td class="text-center text-danger">@item.ThongTinCaoDoHoGa_DayDao</td>
                                <td class="text-center text-danger">item.ThongTinCaoDoHoGa_CSauDao</td>
                                <td class="text-center text-danger">@item.ThongTinCaoDoHoGa_DinhLotMong</td>
                                <td class="text-center text-danger">@item.ThongTinCaoDoHoGa_CdDinhMong</td>

                                <td class="text-center text-danger">@item.ThongTinCaoDoHoGa_CCaoTuong</td>
                                <td class="text-center text-danger">@item.ThongTinCaoDoHoGa_DinhTuongDuoiDamGiuaTuong</td>
                                <td class="text-center text-danger">@item.ThongTinCaoDoHoGa_DinhDamGiuaTuong</td>
                                <td class="text-center text-danger">@item.ThongTinCaoDoHoGa_DinhDamGiuaTuong</td>
                                <td class="text-center text-danger">@item.ThongTinCaoDoHoGa_DinhMuMoThotDuoi</td>
                                 	  	  	  	 

                                <td class="text-center">@item.ThongTinCaoDoHoGa_CdDayHoGa   </td>
                                <td class="text-center">@item.ThongTinCaoDoHoGa_CdDinhHoGa   </td>
                                <td class="text-center">@item.ThongTinMaiDao_ChieuRongDayDaoNho    </td>
                                <td class="text-center">@item.ThongTinMaiDao_TyLeMoMai </td>
                                <td class="text-center">@item.ThongTinMaiDao_SoCanhMaiTrai </td>
                                <td class="text-center">@item.ThongTinMaiDao_SoCanhMaiPhai  </td>
                                <td class="text-center">@item.ToaDoX  </td>
                                <td class="text-center">@item.ToaDoY  </td>
                                <td class="text-center">@item.ThongTinLyTrinhTruyenDan_TuLyTrinh </td>
                                <td class="text-center">@item.ThongTinLyTrinhTruyenDan_DenLyTrinh </td>
                                <td class="text-center">@item.ThongTinLyTrinhTruyenDan_TuHoGa </td>
                                <td class="text-center">@item.ThongTinLyTrinhTruyenDan_DenHoGa </td>
                                <td class="text-center">@item.ThongTinDuongTruyenDan_HinhThucTruyenDan </td>
                                <td class="text-center">@item.ThongTinDuongTruyenDan_LoaiTruyenDan </td>
                                <td class="text-center">@item.ThongTinDuongTruyenDan_TenLoaiTruyenDanSauPhanLoai   </td>
                                <td class="text-center">@item.TTCDSLCauKienDuongTruyenDan_ChieuDai01CauKien   </td>
                                <td class="text-center">@item.TTCDSLCauKienDuongTruyenDan_ChieuDaiMoiNoiCKien </td>
                                <td class="text-center">@item.TTCDSLCauKienDuongTruyenDan_SoLuongCKienDungDeTinhChieuDaiBoSung  </td>
                                <td class="text-center">@item.TTCDSLCauKienDuongTruyenDan_TongChieuDai </td>
                                <td class="text-center">@item.ThongTinMongDuongTruyenDan_PhanLoaiMongCongTronCongHop </td>
                                <td class="text-center">@item.ThongTinMongDuongTruyenDan_LoaiMong </td>
                                <td class="text-center">@item.ThongTinMongDuongTruyenDan_HinhThucMong </td>
                                <td class="text-center">@item.ThongTinDeCong_TenLoaiDeCong </td>
                                <td class="text-center">@item.ThongTinDeCong_CauTaoDeCong   </td>
                                <td class="text-center">@item.ThongTinDeCong_D   </td>
                                <td class="text-center">@item.ThongTinDeCong_R </td>
                                <td class="text-center">@item.ThongTinDeCong_C </td>
                                <td class="text-center">@item.ThongTinDeCong_SlDeCong01CauKienTruyenDan </td>
                                <td class="text-center">@item.ThongTinDeCong_Kl01DeCong </td>
                                <td class="text-center">@item.ThongTinCauTaoCongTron_CDayPhuBi </td>
                                <td class="text-center">@item.ThongTinCauTaoCongTron_SoCanh   </td>
                                <td class="text-center">@item.ThongTinCauTaoCongTron_LongSuDung   </td>
                                <td class="text-center">@item.ThongTinCauTaoCongTron_CCaoLotMong   </td>
                                <td class="text-center">@item.ThongTinCauTaoCongTron_CRongLotMong   </td>
                                <td class="text-center">@item.ThongTinCauTaoCongTron_CCaoMong  </td>
                                <td class="text-center">@item.ThongTinCauTaoCongTron_CRongMong </td>
                                <td class="text-center">@item.ThongTinCauTaoCongTron_CCaoDe </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CauTaoTuong </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CauTaoMuMo </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_ChatMatTrong </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_ChatMatNgoai </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CCaoLotMong   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CRongLotMong   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CCaoMong   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CRongMong   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CCaoDe  </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CRongDe  </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CDayTuong01Ben   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_SoLuongTuong   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CRongLongSuDung   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CCaoTuongCongHop </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CCaoMuMoThotDuoi   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CRongMuMoDuoi   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CCaoMuMoThotTren   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CRongMuMoTren </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_LoaiThanhChong </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CauTaoThanhChong   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CCaoThanhChong   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CRongThanhChong   </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_CDai </td>
                                <td class="text-center">@item.TTKTHHCongHopRanh_SoLuongThanhChong </td>
                                <td class="text-center">@item.ThongTinKichThuocHinhHocOngNhua_CDayPhuBi </td>
                                <td class="text-center">@item.ThongTinKichThuocHinhHocOngNhua_SoCanh   </td>
                                <td class="text-center">@item.ThongTinKichThuocHinhHocOngNhua_LongSuDung   </td>
                                <td class="text-center">@item.ThongTinKichThuocHinhHocOngNhua_CCaoDemCat   </td>
                                <td class="text-center">@item.ThongTinKichThuocHinhHocOngNhua_CCaoDapCat </td>
                                <td class="text-center">@item.ThongTinRanhThang_HinhThucMai </td>
                                <td class="text-center">@item.ThongTinRanhThang_CauTaoChanKhay </td>
                                <td class="text-center">@item.ThongTinRanhThang_CauTaoGiangDinh </td>
                                <td class="text-center">@item.ThongTinRanhThang_HinhThucHanhLangBaoVe </td>
                                <td class="text-center">@item.ThongTinRanhThang_PhanLoaiChanKhay   </td>
                                <td class="text-center">@item.ThongTinRanhThang_CCaoLotChanKhay   </td>
                                <td class="text-center">@item.ThongTinRanhThang_CRongLotChanKhay   </td>
                                <td class="text-center">@item.ThongTinRanhThang_SoLuongLotChanKhay   </td>
                                <td class="text-center">@item.ThongTinRanhThang_CCaoMongChanKhay   </td>
                                <td class="text-center">@item.ThongTinRanhThang_CRongMongChanKhay   </td>
                                <td class="text-center">@item.ThongTinRanhThang_SoLuongMongChanKhay </td>
                                <td class="text-center">@item.ThongTinRanhThang_CCaoLot   </td>
                                <td class="text-center">@item.ThongTinRanhThang_CRongLot   </td>
                                <td class="text-center">@item.ThongTinRanhThang_CCaoMong   </td>
                                <td class="text-center">@item.ThongTinRanhThang_CRongMong </td>
                                <td class="text-center">@item.ThongTinRanhThang_PhanLoaiMai  </td>
                                <td class="text-center">@item.ThongTinRanhThang_CRongMai   </td>
                                <td class="text-center">@item.ThongTinRanhThang_CDayMai  </td>
                                <td class="text-center">@item.ThongTinRanhThang_SoLuongMai </td>
                                <td class="text-center">@item.ThongTinRanhThang_PhanLoaiGiangDinh </td>
                                <td class="text-center">@item.ThongTinRanhThang_CCaoLotGiangDinh   </td>
                                <td class="text-center">@item.ThongTinRanhThang_CRongLotGiangDinh </td>
                                <td class="text-center">@item.ThongTinRanhThang_SoLuongLotGiangDinh   </td>
                                <td class="text-center">@item.ThongTinRanhThang_CCaoMongGiangDinh  </td>
                                <td class="text-center">@item.ThongTinRanhThang_CRongMongGiangDinh </td>
                                <td class="text-center">@item.ThongTinRanhThang_SoLuongMongGiangDinh </td>
                                <td class="text-center">@item.ThongTinRanhThang_PhanLoaiHanhLangBaoVe </td>
                                <td class="text-center">@item.ThongTinRanhThang_CCaoHanhLangBaoVe </td>
                                <td class="text-center">@item.ThongTinRanhThang_CRongHanhLangBaoVe </td>
                                <td class="text-center">@item.ThongTinRanhThang_SoLuongHangLangBaoVe </td>
                                <td class="text-center">@item.TTTDCongHoRanh_TenLoaiTamDanTieuChuan </td>
                                <td class="text-center">@item.TTTDCongHoRanh_CauTaoTamDanTruyenDanTamDanTieuChuan </td>
                                <td class="text-center">@item.TTTDCongHoRanh_CDai </td>
                                <td class="text-center">@item.TTTDCongHoRanh_CRong </td>
                                <td class="text-center">@item.TTTDCongHoRanh_CCao </td>
                                <td class="text-center">@item.TTTDCongHoRanh_TenLoaiTamDanLoai02 </td>
                                <td class="text-center">@item.TTTDCongHoRanh_CauTaoTamDanTruyenDan </td>
                                <td class="text-center">@item.TTTDCongHoRanh_CRong1 </td>
                                <td class="text-center">@item.TTTDCongHoRanh_CCao1 </td>
                                <td class="text-center">@item.TTTDCongHoRanh_ChieuDaiMoiNoi </td>
                                <td class="text-center">@item.TTTDCongHoRanh_SoLuongTDanDungDeTinhChieuDaiBoSung </td>
                                <td class="text-center">@item.CDThuongLuu_HienTrangTruocKhiDaoThuongLuu   </td>
                                <td class="text-center">@item.CDThuongLuu_DayDongChay    </td>
                                <td class="text-center">@item.CDThuongLuu_DinhTrongLongSuDung </td>
                                <td class="text-center">@item.CDThuongLuu_ChieuCaoRanhThangTuDayDongChayDenDinh </td>
                                <td class="text-center">@item.CDHaLu_HienTrangTruocKhiDaoHaLuu    </td>
                                <td class="text-center">@item.CDHaLu_DayDongChay    </td>
                                <td class="text-center">@item.CDHaLu_DinhTrongLongSuDung   </td>
                                <td class="text-center">@item.CDHaLu_ChieuCaoRanhThangTuDayDongChayDenDinh  </td>
                                <td class="text-center">@item.TTMDRanhOngThang_ChieuRongDayDaoNho    </td>
                                <td class="text-center">@item.TTMDRanhOngThang_TyLeMoMai </td>
                                <td class="text-center">@item.TTMDRanhOngThang_SoCanhMaiTrai   </td>
                                <td class="text-center">@item.TTMDRanhOngThang_SoCanhMaiPhai   </td>
                                <td class="text-center">@item.TTMDRanhOngThang_ChieuRongDayDaoNho1    </td>
                                <td class="text-center">@item.TTMDRanhOngThang_TyLeMoMai1 </td>
                                <td class="text-center">@item.TTMDRanhOngThang_SoCanhMaiTrai1   </td>
                                <td class="text-center">@item.TTMDRanhOngThang_SoCanhMaiPhai1 </td>
                                <td class="text-center">@item.TuToaDoX </td>
                                <td class="text-center">@item.TuToaDoY </td>
                                <td class="text-center">@item.DenToaDoX </td>
                                <td class="text-center">@item.DenToaDoY </td>

                            </tr>
                            stt++;
                        }

                    </tbody>
                }
            </table>
          <div class="mt-4">
                @if (listHopRanhThang.Any())
                {
                    <Pagination MetaData="MetaData" Spread="2" SelectedPage="SelectedPage" ChangePageSize="ChangePageSize"></Pagination>
                }
          </div>

        </div>
    </div>
</div>

@code{
    public List<MDanhMuc> listDanhMuc = new();

    public List<HopRanhThangModel> listHopRanhThang
    {
        get;
        set;
    } = new();

    public List<HopRanhThangModel> listModel
    {
        get;
        set;
    } = new();

    public MetaData MetaData
    {
        get;
        set;
    }

    public HopRanhThangModel hopRanhThangModel
    {
        get;
        set;
    }


    // Khởi tạo màn hình
    protected override async Task OnInitializedAsync()
    {
        hopRanhThangModel = new();
        await LoadData();
    }


    // Truy vấn data theo điều kiện tìm kiếm
    private async Task LoadData()
    {
        listDanhMuc = await DanhMucRepository.GetAll();
        var hopranhthangs = await HopRanhThangRepository.GetData();
        var convertDatas = await ConvertData(hopranhthangs);
        listModel = convertDatas;
        listHopRanhThang = Paging(convertDatas);

    }

    public string GetTenDanhMucById(string id)
    {
        var danhMuc = listDanhMuc.FirstOrDefault(dm => dm.Id == id);
        return danhMuc != null ? danhMuc.Ten : null;
    }


    public async Task<List<HopRanhThangModel>> ConvertData(List<HopRanhThangModel> list)
    {
        if (list == null || list.Count == 0)
        {
            Console.WriteLine("Danh sách trống.");
        }
        else
        {
            list.ForEach(item =>
            {
                item.ThongTinCaoDoHoGa_CaoDoHienTrangTruocKhiDao = ThongTinCaoDoHoGa_CaoDoHienTrangTruocKhiDao(item.ThongTinCaoDoHoGa_CaoDoTuNhien,item.ThongTinCaoDoHoGa_CaoDoDinhK98,item.ThongTinCaoDoHoGa_CdDinhViaHeHoanThien);
                item.ThongTinCaoDoHoGa_CdDinhMong = ThongTinCaoDoHoGa_CdDinhMong(item.ThongTinChungHoGa_HinhThucHoGa, item.ThongTinChungHoGa_HinhThucMongHoGa, item.ThongTinCaoDoHoGa_CdDayHoGa, item.DeHoGa_C);
                item.ThongTinCaoDoHoGa_DinhLotMong = ThongTinCaoDoHoGa_DinhLotMong(item.ThongTinChungHoGa_HinhThucMongHoGa, item.ThongTinCaoDoHoGa_CdDinhMong, item.TBeTongMongHoGa_C);
                item.ThongTinCaoDoHoGa_DayDao = ThongTinCaoDoHoGa_DayDao(item.ThongTinChungHoGa_HinhThucHoGa, item.ThongTinChungHoGa_HinhThucMongHoGa, item.ThongTinCaoDoHoGa_DinhLotMong, item.BeTongLotMong_C, item.ThongTinCaoDoHoGa_CdDayHoGa, item.DeHoGa_C);
                item.ThongTinCaoDoHoGa_CSauDao = ThongTinCaoDoHoGa_CSauDao(item.ThongTinCaoDoHoGa_CaoDoHienTrangTruocKhiDao, item.ThongTinCaoDoHoGa_DayDao);
                item.ThongTinVatLieuDaoHoGa_ChieuCaoDaoDat = ThongTinVatLieuDaoHoGa_ChieuCaoDaoDat(item.ThongTinVatLieuDaoHoGa_LoaiVatLieuDao, item.ThongTinCaoDoHoGa_CSauDao, item.ThongTinVatLieuDaoHoGa_ChieuCaoDaoDa);
                item.ThongTinVatLieuDaoHoGa_TongChieuCaoDao = (item.ThongTinVatLieuDaoHoGa_ChieuCaoDaoDa + item.ThongTinVatLieuDaoHoGa_ChieuCaoDaoDat);
                item.TuongHoGa_C = item.ThongTinCaoDoHoGa_CCaoTuong;

            });
        }

        return list;
    }



    public double ThongTinCaoDoHoGa_CaoDoHienTrangTruocKhiDao(double ThongTinCaoDoHoGa_CaoDoTuNhien, double ThongTinCaoDoHoGa_CaoDoDinhK98, double ThongTinCaoDoHoGa_CdDinhViaHeHoanThien)
    {
        double result;

        if (ThongTinCaoDoHoGa_CaoDoTuNhien < ThongTinCaoDoHoGa_CaoDoDinhK98)
        {
            result = ThongTinCaoDoHoGa_CaoDoDinhK98;
        }
        else if (ThongTinCaoDoHoGa_CaoDoTuNhien >= ThongTinCaoDoHoGa_CdDinhViaHeHoanThien)
        {
            result = ThongTinCaoDoHoGa_CdDinhViaHeHoanThien;
        }
        else
        {
            result = ThongTinCaoDoHoGa_CaoDoTuNhien;
        }

        return Math.Round(result, 2);
    }

    public double ThongTinCaoDoHoGa_CdDinhMong(string ThongTinChungHoGa_HinhThucHoGa, string ThongTinChungHoGa_HinhThucMongHoGa, double ThongTinCaoDoHoGa_CdDayHoGa, double DeHoGa_C)
    {
        ThongTinChungHoGa_HinhThucHoGa = GetTenDanhMucById(ThongTinChungHoGa_HinhThucHoGa);
        ThongTinChungHoGa_HinhThucMongHoGa = GetTenDanhMucById(ThongTinChungHoGa_HinhThucMongHoGa);
        if (ThongTinChungHoGa_HinhThucHoGa.ToUpper().Trim() == "Lắp đặt".ToUpper() 
        && ThongTinChungHoGa_HinhThucMongHoGa.ToUpper().Trim() == "Có móng".ToUpper())
        {
            return ThongTinCaoDoHoGa_CdDayHoGa - DeHoGa_C;
        }
        else
        {
            return ThongTinCaoDoHoGa_CdDayHoGa;
        }
    }

    public double ThongTinCaoDoHoGa_DinhLotMong(string ThongTinChungHoGa_HinhThucMongHoGa, double ThongTinCaoDoHoGa_CdDinhMong, double TBeTongMongHoGa_C)
    {
        if (ThongTinChungHoGa_HinhThucMongHoGa == "Không có móng")
        {
            return 0;
        }
        else
        {
            return ThongTinCaoDoHoGa_CdDinhMong - TBeTongMongHoGa_C;
        }
    }

    public double ThongTinCaoDoHoGa_DayDao(string ThongTinChungHoGa_HinhThucHoGa, string ThongTinChungHoGa_HinhThucMongHoGa, double ThongTinCaoDoHoGa_DinhLotMong, double BeTongLotMong_C, double ThongTinCaoDoHoGa_CdDayHoGa, double DeHoGa_C)
    {
        double result;
        ThongTinChungHoGa_HinhThucMongHoGa = GetTenDanhMucById(ThongTinChungHoGa_HinhThucMongHoGa).ToUpper().Trim();
        ThongTinChungHoGa_HinhThucHoGa = GetTenDanhMucById(ThongTinChungHoGa_HinhThucHoGa).ToUpper().Trim();
        if (ThongTinChungHoGa_HinhThucMongHoGa == "Có móng".ToUpper())
        {
            result = ThongTinCaoDoHoGa_DinhLotMong - BeTongLotMong_C;
        }
        else if (ThongTinChungHoGa_HinhThucHoGa == "Lắp đặt".ToUpper() && ThongTinChungHoGa_HinhThucMongHoGa == "Không có móng".ToUpper())
        {
            result = ThongTinCaoDoHoGa_CdDayHoGa - DeHoGa_C;
        }
        else
        {
            result = ThongTinCaoDoHoGa_CdDayHoGa;
        }

        return Math.Round(result, 2);
    }

    public double ThongTinCaoDoHoGa_CSauDao(double ThongTinCaoDoHoGa_CaoDoHienTrangTruocKhiDao, double ThongTinCaoDoHoGa_DayDao)
    {
        return Math.Round(ThongTinCaoDoHoGa_CaoDoHienTrangTruocKhiDao - ThongTinCaoDoHoGa_DayDao, 2);
    }

    public double ThongTinVatLieuDaoHoGa_ChieuCaoDaoDat(string ThongTinVatLieuDaoHoGa_LoaiVatLieuDao, double ThongTinCaoDoHoGa_CSauDao, double ThongTinVatLieuDaoHoGa_ChieuCaoDaoDa)
    {
        ThongTinVatLieuDaoHoGa_LoaiVatLieuDao = GetTenDanhMucById(ThongTinVatLieuDaoHoGa_LoaiVatLieuDao).ToUpper().Trim();
        if (string.IsNullOrEmpty(ThongTinVatLieuDaoHoGa_LoaiVatLieuDao))
        {
            return 0;
        }
        else if (ThongTinVatLieuDaoHoGa_LoaiVatLieuDao == "Đào đá".ToUpper())
        {
            return 0;
        }
        else
        {
            return ThongTinCaoDoHoGa_CSauDao - ThongTinVatLieuDaoHoGa_ChieuCaoDaoDa;
        }
    }

    


    // Sắp xếp data
    private void SortTable(string columnName)
    {
        listModel = SortService.SortTable(listModel, columnName);
        hopRanhThangModel.PageNumber = 1;
        Paging(listModel);
    }

    // Get css cho chức năng sắp xếp
    private string GetSortStyle(string columnName)
    {
        return SortService.GetSortStyle(columnName);
    }

    // Xử lý trường hợp đổi page hiển thị
    private void SelectedPage(int page)
    {
        hopRanhThangModel.PageNumber = page;
        Paging(listHopRanhThang);
    }

    // Xử lý trường hợp đổi số lượng bản ghi hiển thị trên page
    private void ChangePageSize(int pageSize)
    {

        hopRanhThangModel.PageNumber = 1;
        hopRanhThangModel.pageSize = pageSize;
        Paging(listHopRanhThang);
    }
    // Xử lý paging
    private List<HopRanhThangModel> Paging(List<HopRanhThangModel> hopRanhThangs)
    {
        // Đếm số bản ghi thỏa mãn
        var count = hopRanhThangs.Count();

        // Lọc bản ghi theo page hiện tại và page size
        hopRanhThangs = hopRanhThangs.Skip((hopRanhThangModel.PageNumber - 1) * hopRanhThangModel.PageSize).Take(hopRanhThangModel.PageSize).ToList();

        // Xóa danh sách đang hiển thị trên màn hình
        listHopRanhThang.Clear();

        // Thêm những bản ghi sau khi lọc vào danh sách hiển thị
        foreach (var major in hopRanhThangs)
        {
            listHopRanhThang.Add(major);
        }

        // Tạo pagelist mới

        var pagelist = new PageList<HopRanhThangModel>(listHopRanhThang, count, hopRanhThangModel.PageNumber, hopRanhThangModel.PageSize);
        MetaData = pagelist.MetaData;
        return hopRanhThangs;
    }
}
